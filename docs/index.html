<!DOCTYPE html>
<html ng-app="app">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fruškać</title>

  <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/paper/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
  <link rel="stylesheet" href="css/app.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.3/ui-bootstrap-tpls.min.js"></script>
  <script src="js/app.js"></script>

</head>
<body ng-controller="AppCtrl">

<div id="navigation">

  <a id="navigation-brand">
    <i class="fa fa-map-o"></i>
    ФRuŠKać
  </a>

  <ul class="list-group">
    <li ng-repeat-start="item in data" class="list-group-item">
      <h5 class="list-group-item-heading">
        <a ng-if="item.children" ng-click="$parent.open=!$parent.open" ng-init="$parent.open=item.getVisible()" class="pull-right">
          <i class="fa" ng-class="{'fa-chevron-right':!open,'fa-chevron-down':open}"></i>
        </a>
        <a ng-click="item.setVisible(!item.getVisible())">
          <i class="fa fa-fw" ng-class="{'fa-check-square':item.getVisible(),'fa-square-o':!item.getVisible()}"></i>
          {{ item.id }}
        </a>
      </h5>
    </li>
    <li ng-repeat-end ng-show="open">
      <ul ng-if="item.children"  class="list-unstyled">
        <li ng-repeat="item in item.children" ng-class="{'disabled':!$parent.item.getVisible()}" class="list-group-item">
          <a ng-if="item.type === 'track'" ng-click="item.select()" class="btn btn-default btn-xs pull-right">
            <i class="fa fa-crosshairs"></i>
          </a>
          <a ng-click="$parent.item.getVisible()&&item.setVisible(!item.getVisible())">
            <i class="fa fa-fw" ng-class="{'fa-check-square':item.getVisible(),'fa-square-o':!item.getVisible()}"></i>
            {{ item.id }}
            <small class="text-muted">{{ item.type }}</small>
          </a>
        </li>
      </ul>
    </li>
  </ul>

</div>

<iframe src="../src/index.html" id="map"></iframe>

</body>
</html>