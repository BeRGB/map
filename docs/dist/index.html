<!DOCTYPE html><html><head><meta charset="UTF-8"><style>#chart_container{display:none;bottom:0;left:0;width:100%;height:30%}#chart_container>button{position:absolute;top:10px;left:10px;z-index:1}#chart_container,#chart_container>div{position:absolute}#chart_container.on{display:block}#chart_container.on+#map_container{height:70%}#chart_container>#chart>.loading{position:relative;top:50%;width:100%;text-align:center;transform:translateY(-50%)}.gm-style-iw{max-width:285px;margin:-8px -14px;font-size:12px!important}.gm-style-iw a{color:#333;text-decoration:none}.gm-style-iw a h2,.gm-style-iw a p{padding:0 10px}body,html{overflow:hidden}#map_container,body,html{height:100%;width:100%;margin:0}#map_container{position:absolute;top:0;left:0}#chart_container>div,#map_container #map{height:100%;width:100%}#map_container>button{display:none;position:absolute;top:10px;right:10px;z-index:1}#map_container>#map_logo{position:absolute;top:10px;left:10px;z-index:1}#map_container>#map_logo img{width:210px;height:auto}@font-face{font-family:fruskac;src:url(fonts/fruskac.eot);src:url(fonts/fruskac.eot?#iefix) format("embedded-opentype"),url(fonts/fruskac.woff) format("woff"),url(fonts/fruskac.ttf) format("truetype"),url(fonts/fruskac.svg#fruskac) format("svg");font-weight:400;font-style:normal}[class*="marker marker-"]:after{font-family:fruskac!important;font-size:16px;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;speak:none;line-height:2;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;color:#fff;margin-left:8px;text-shadow:0 0 3px rgba(0,0,0,.6)}.marker-wrap{margin-top:-39px}.marker,.marker-wrap{position:absolute;width:32px;height:32px;margin-left:-16px;transform-origin:50% 121% 0}.marker{top:50%;left:50%;margin-top:-16px}.marker:before{position:absolute;display:block;box-sizing:border-box;width:32px;height:32px;content:"";transform:rotate(-45deg);background-color:#0ff;border:1px solid #0cc;border-radius:50% 50% 50% 0}.marker :after{font-family:fruskac!important;font-size:16px;font-style:normal!important;font-weight:400!important;font-variant:normal!important;text-transform:none!important;speak:none;line-height:2;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;color:#fff;margin-left:8px}.marker-lakes:before{background-color:#448b89;border-color:#336967}.marker-lakes:after{content:"\66";text-shadow:0 0 3px #224745}.checkbox-lakes input:checked:after{background-color:#448b89!important;border-color:#448b89!important}.marker-waterfalls:before{background-color:#26b1b7;border-color:#1d888d}.marker-waterfalls:after{content:"\6e";text-shadow:0 0 3px #145f63}.checkbox-fishponds input:checked:after,.checkbox-waterfalls input:checked:after{background-color:#26b1b7!important;border-color:#26b1b7!important}.marker-fishponds:before{background-color:#26b1b7;border-color:#1d888d}.marker-fishponds:after{content:"\65";text-shadow:0 0 3px #145f63}.marker-monasteries:before{background-color:#ac860c;border-color:#7c6109}.marker-monasteries:after{content:"\6a";text-shadow:0 0 3px #4d3c05}.checkbox-monasteries input:checked:after{background-color:#ac860c!important;border-color:#ac860c!important}.marker-monuments:before{background-color:#666;border-color:#4d4d4d}.marker-monuments:after{content:"\6b";text-shadow:0 0 3px #333}.checkbox-monuments input:checked:after{background-color:#666!important;border-color:#666!important}.marker-springs:before{background-color:#4d84a6;border-color:#3d6883}.marker-springs:after{content:"\6d";text-shadow:0 0 3px #2d4d60}.checkbox-springs input:checked:after{background-color:#4d84a6!important;border-color:#4d84a6!important}.marker-misc:before{background-color:#e0196a;border-color:#b21454}.marker-misc:after{content:"\69";text-shadow:0 0 3px #840f3f}.checkbox-misc input:checked:after{background-color:#e0196a!important;border-color:#e0196a!important}.marker-picnic-areas:before{background-color:#4f452f;border-color:#2f291c}.marker-picnic-areas:after{content:"\6c";text-shadow:0 0 3px #0f0d09}.checkbox-picnic-areas input:checked:after{background-color:#4f452f!important;border-color:#4f452f!important}.marker-meadows:before{background-color:#9ca22f;border-color:#767a24}.marker-meadows:after{content:"\68";text-shadow:0 0 3px #505318}.checkbox-meadows input:checked:after{background-color:#9ca22f!important;border-color:#9ca22f!important}.marker-lookouts:before{background-color:#8c1bdd;border-color:#6f15b0}.marker-lookouts:after{content:"\67";text-shadow:0 0 3px #521082}.checkbox-lookouts input:checked:after{background-color:#8c1bdd!important;border-color:#8c1bdd!important}.marker-pulse,.marker-shadow{position:absolute}.marker-shadow:after{position:absolute;left:-108px;display:block;width:16px;height:16px;margin-top:-8px;content:"";transform:rotateX(55deg);border-radius:50%;box-shadow:100px 0 20px rgba(0,0,0,.5)}.marker-pulse{top:39px;left:16px;width:160px;height:160px;transform:rotateX(60deg) translate(-50%,-100%)}.marker-pulse:before{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:5px;height:5px;background:#f93c11}.marker-pulse:after,.marker-pulse:before{content:"";display:block;border-radius:50%}.marker-pulse:after{width:100%;height:100%;animation:a 1s ease-out;animation-delay:1.1s;animation-iteration-count:infinite;opacity:0;box-shadow:0 0 1px 2px rgba(0,0,0,.5);box-shadow:0 0 6px 3px #f93c11}@keyframes a{0%{transform:scale(.1);opacity:0}50%{opacity:1}to{transform:scale(1.2);opacity:0}}.hidden{display:none!important}.opaque{opacity:.3!important}</style></head><body><div id="chart_container"><button onclick="closeChart()">Close</button><div id="chart"><div class="loading">Loading...</div></div></div><div id="map_container"><a id="map_logo" href="http://fruskac.net"><img src="img/logo.png"> </a><button onclick="fullscreen()">Full Screen</button><div id="map"></div></div><script src="//maps.google.com/maps/api/js?key=AIzaSyDP5opMTc3z2n4eyGZhVgcmhm9wSu4Jxgk"></script><script src="https://www.gstatic.com/charts/loader.js"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/marker-animate-unobtrusive/0.2.8/vendor/markerAnimate.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-marker-clusterer/1.0.0/markerclusterer_compiled.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script><script src="//github.com/michaelvillar/dynamics.js/releases/download/0.0.8/dynamics.min.js"></script><script>!function(e,t,n,a,i,r){"use strict";function o(){}o.prototype=o,o.Util=function(){function t(){}return t.prototype={getParameterByName:function(t,n){n||(n=e.location.href),t=t.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),i=a.exec(n);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null},getParameterPartsByName:function(e){var t=this.getParameterByName(e);if(t)return t.split(",")},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}},t}(),o.I18N={LANGUAGES:["en","rs"],SOURCE:{DISTANCE:[{en:"Distance"},{rs:"Udaljenost"}],ELEVATION:[{en:"Elevation"},{rs:"Visina"}]}};var s="f",c="c",l="t",u="l",d="marker",p="track",m="kml";!function(e){e.maps.Polyline.prototype.getBounds=function(){var t=new e.maps.LatLngBounds;return this.getPath().forEach(function(n){t.extend(new e.maps.LatLng(n.lat(),n.lng()))}),t}}(i);var f="en",h="../examples/angularjs-with-material.html#!",v=[{url:"../data/locations-"+f+".json",name:"Locations",type:d,visible:!0},{url:"../data/tourism.json",name:"tourism",type:d,visible:!0},{url:"../data/marathon.json",name:"Marathons",type:p,visible:!1},{url:"../data/protection.json",name:"Protection",type:m,visible:!1},{url:"../data/time.json",name:"Time",type:d,visible:!1}];o.Marker=function(){function e(e){this.options=e,this.data=e.data,this.setValues({position:new i.maps.LatLng(parseFloat(e.position.lat()),parseFloat(e.position.lng())),map:E})}function t(e){var t="";return e.image&&(t+='<img src="'+e.image+'">'),t+="<h2>"+e.title+"</h2>",e.description&&(t+="<p>"+e.description+"</p>"),t="<a"+(e.link&&' href="'+e.link+'" target="_blank"')+">"+t+"</a>"}return e.prototype=new i.maps.OverlayView,e.prototype.draw=function(){var e=this,t=e.div;if(!t){t=e.div=n("<div"+(e.options.visible?"":' class="hidden"')+">"+(e.options.pulsate?"":'<div class="marker-shadow"></div>')+'<div class="marker-wrap"'+(e.options.title?' title="'+e.options.title+'"':"")+">"+(e.options.pulsate?'<div class="marker-pulse"></div>':'<div class="marker marker-'+e.options.icon+'"></div>')+"</div></div>")[0],e.markerWrap=e.div.getElementsByClassName("marker-wrap"),e.marker=e.div.getElementsByClassName("marker"),e.markerShadow=e.div.getElementsByClassName("marker-shadow"),t.style.position="absolute",t.style.cursor="pointer";var a=e.getPanes();a.overlayImage.appendChild(t),e.options.pulsate||(setTimeout(function(){e.animateWobble()},800*Math.random()+200),i.maps.event.addDomListener(t,"click",function(){e.animateWobble(),e.showInfoWindow()}))}e.setPoint(e.position)},e.prototype.setPoint=function(e){var t=this,n=t.getProjection().fromLatLngToDivPixel(e);t.div.style.left=n.x+"px",t.div.style.top=n.y+"px",t.options.pulsate||(t.div.style.zIndex=Math.round(100*n.y))},e.prototype.setVisible=function(e){var t=this;t.div&&(e?setTimeout(function(){g.removeClass(t.div,"hidden"),t.animateWobble()},400*Math.random()):setTimeout(function(){g.addClass(t.div,"hidden")},200*Math.random()))},e.prototype.setOpaque=function(e){this.div&&(e?g.addClass(this.div,"opaque"):g.removeClass(this.div,"opaque"))},e.prototype.getPosition=function(){return this.position},e.prototype.remove=function(){this.div.remove()},e.prototype.showInfoWindow=function(){I.showInfoWindow(t(this.options.data),this.getPosition())},e.prototype.animateDrop=function(){dynamics.stop(this.markerWrap),dynamics.css(this.markerWrap,{transform:"scaleY(2) translateY(-"+n("#map").outerHeight()+"px)",opacity:"1"}),dynamics.animate(this.markerWrap,{translateY:0,scaleY:1},{type:dynamics.gravity,duration:1800}),dynamics.stop(this.marker),dynamics.css(this.marker,{transform:"none"}),dynamics.animate(this.marker,{scaleY:.8},{type:dynamics.bounce,duration:1800,bounciness:600}),dynamics.stop(this.markerShadow),dynamics.css(this.markerShadow,{transform:"scale(0,0)"}),dynamics.animate(this.markerShadow,{scale:1},{type:dynamics.gravity,duration:1800})},e.prototype.animateBounce=function(){dynamics.stop(this.markerWrap),dynamics.css(this.markerWrap,{transform:"none"}),dynamics.animate(this.markerWrap,{translateY:-30},{type:dynamics.forceWithGravity,bounciness:0,duration:500,delay:150}),dynamics.stop(this.marker),dynamics.css(this.marker,{transform:"none"}),dynamics.animate(this.marker,{scaleY:.8},{type:dynamics.bounce,duration:800,bounciness:0}),dynamics.animate(this.marker,{scaleY:.8},{type:dynamics.bounce,duration:800,bounciness:600,delay:650}),dynamics.stop(this.markerShadow),dynamics.css(this.markerShadow,{transform:"none"}),dynamics.animate(this.markerShadow,{scale:.6},{type:dynamics.forceWithGravity,bounciness:0,duration:500,delay:150})},e.prototype.animateWobble=function(){dynamics.stop(this.markerWrap),dynamics.css(this.markerWrap,{transform:"none"}),dynamics.animate(this.markerWrap,{rotateZ:90*Math.random()-45},{type:dynamics.bounce,duration:1800}),dynamics.stop(this.marker),dynamics.css(this.marker,{transform:"none"}),dynamics.animate(this.marker,{scaleX:.8},{type:dynamics.bounce,duration:800,bounciness:1800})},e}(),o.Track=function(){function e(e){return e=a.extend({map:E,geodesic:!0,strokeColor:"rgb(51, 102, 204)",strokeOpacity:1,strokeWeight:4},e),function(){return new i.maps.Polyline(e)}()}return e}(),o.Kml=function(){function e(e,t){return t=a.extend({map:E,preserveViewport:!0,suppressInfoWindows:!0,data:{type:"kml"}},t),function(){return new i.maps.KmlLayer(e,t)}()}return e}(),o.I18n=function(){function e(e){this.lang=e,Object.keys(o.I18N.SOURCE).forEach(function(e){t(e,o.I18N.SOURCE[e])})}function t(e,t){t.forEach(function(t){o.I18N.LANGUAGES.forEach(function(a){t[a]&&(n[a]||(n[a]={}),n[a][e]=t[a])})})}var n={};return e.prototype={translate:function(e){return n[this.lang]&&n[this.lang][e]||"__TRANSLATION_MISSING__"}},e}(),o.Chart=function(){function a(e){var t=this;t.visible=!1,t.container=e}function r(e,t,n){var a=[];e.forEach(function(e){a.push(e)}),t.getElevationAlongPath({path:a,samples:a.length},function(e){var t=0,a=[];e.forEach(function(n,i){var r;r=i?s(e[i].location,e[i-1].location):0,t+=parseFloat(r),a.push([t,n.elevation])}),n(a)})}function s(e,t){var n=6378137,a=c(t.lat()-e.lat()),i=c(t.lng()-e.lng()),r=Math.sin(a/2)*Math.sin(a/2)+Math.cos(c(e.lat()))*Math.cos(c(t.lat()))*Math.sin(i/2)*Math.sin(i/2),o=2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)),s=n*o;return(s/1e3).toFixed(2)}function c(e){return e*Math.PI/180}return a.prototype={setVisible:function(e){var t=this;t.visible=e;var a="on";t.visible?n(t.container).addClass(a):(n(t.container).removeClass(a),I.placeMarker());var r=E.getCenter();i.maps.event.trigger(E,"resize"),E.setCenter(r)},show:function(a,s){var c=this;c.setVisible(!0),s&&n(c.container).find("button").remove();var l=new i.maps.ElevationService;i.charts.load("current",{packages:["corechart"],language:o.lang}),i.charts.setOnLoadCallback(function(){r(a,l,function(r){var o=new i.visualization.DataTable;o.addColumn("number",y.translate("DISTANCE")),o.addColumn("number",y.translate("ELEVATION")),o.addRows(r);var s={lineWidth:2,areaOpacity:.2,series:[{color:"black",visibleInLegend:!1},{},{}],focusTarget:"category",hAxis:{baselineColor:"transparent",title:y.translate("DISTANCE")+" (km)",gridlines:{color:"transparent"}},vAxis:{baselineColor:"transparent",title:y.translate("ELEVATION")+" (m)",minValue:0,gridlines:{color:"transparent"}},legend:{position:"none"}},c=new i.visualization.AreaChart(t.getElementById("chart"));c.draw(o,s),i.visualization.events.addListener(c,"onmouseover",function(e){I.placeMarker(a.getAt(e.row))}),n(e).on("resize",function(){c.draw(o,s)})})})}},e.closeChart=function(){O.setVisible(!1)},a}(),o.Map=function(){function t(t){this.infoWindow=new i.maps.InfoWindow({maxWidth:285,content:"holding..."}),(o.isCrossDomain||e.frameElement&&e.frameElement.hasAttribute("allowFullScreen"))&&n("#map_container > button").show()}function a(e){if(e)return e.hasOwnProperty("position")?d:e.hasOwnProperty("strokeColor")?p:e.hasOwnProperty("suppressInfoWindows")?m:void 0}return t.prototype={add:function(e,t,n){var a=this;return new r(function(i){switch(t){case d:return a.addMarker(e,n).then(function(e){i(e)});case p:return a.addTrack(e,n).then(function(e){i(e)});case m:return a.addKml(e,n).then(function(e){i(e)})}})},addMarker:function(e,t){return new r(function(n){var a=new o.Marker({position:new i.maps.LatLng(e.lat,e.lng),title:e.data.title,icon:e.tag,data:e.data,visible:t});i.maps.event.addListener(a,"click",function(){a.animateWobble()}),n(a)})},addTrack:function(e,t){var a;return a="string"==typeof e?e:"../"+e.url,new r(function(e){return n.get(a).then(function(a){var r=[];n(a).find("trkpt").each(function(e,t){var a=Number(n(this).attr("lat")),o=Number(n(this).attr("lon")),s=new i.maps.LatLng(a,o);r.push(s)});var s=new o.Track({path:r});s.setVisible(t),e(s)})})},addKml:function(e,t){return new r(function(n){var a=new o.Kml(e.url);t||a.setMap(null),n(a)})},setVisible:function(e,t){switch(a(e)){case d:e.setVisible(t);break;case p:e.setVisible(t);break;case m:e.setMap(t?E:null)}},focus:function(e,t){var n=this;switch(a(e)){case d:E.setZoom(14),E.panTo(e.position);var r=setInterval(function(){e.animateBounce()},2e3);i.maps.event.addDomListener(e.div,"click",function(){clearInterval(r)});break;case p:n.placeMarker(null),E.fitBounds(e.getBounds()),O.show(e.getPath(),t)}},placeMarker:function(e,t){var n=this;e?n.marker?n.marker.setPoint(e):n.marker=new o.Marker({position:e,visible:!0,pulsate:t}):n.marker&&(n.marker.remove(),n.marker=null)},showInfoWindow:function(e,t){var n=this;n.infoWindow.setContent(e),n.infoWindow.setPosition(t),n.infoWindow.open(E)},fullscreen:function(){var t={c:E.getCenter().lat()+","+E.getCenter().lng()+","+E.getZoom(),l:g.getParameterByName(u),f:g.getParameterByName(s),t:g.getParameterByName(l),lang:o.lang},n=h+"?"+Object.keys(t).map(function(e){return t[e]&&encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");e.open(n,"_blank")}},e.fullscreen=function(){I.fullscreen()},t}(),o.Storage=function(){function e(e){e||(e=[]),this.data=e}function t(e){if(e=i(e),n(e)){var t=e.split(":");return t.splice(-1),t.join(":")}}function n(e){return e=i(e),e.indexOf(":")!==-1}function i(e){if(e)return"string"!=typeof e&&(e=e.join(":")),e.toLowerCase()}function o(e,t){t=i(t);var n=[];return e.forEach(function(e){if(e.id){var a;a=t?i([t,e.id]):e.id;var r={id:e.id,getVisible:function(){return w.getState(a)},setVisible:function(e){return w.setState(a,e)},focus:function(){return w.focus(a)}};if(e.type&&(r.type=e.type),e.children&&e.children.length){var s=o(e.children,a);s&&s.length&&(r.children=s)}e.categories&&e.categories.length&&(r.categories=e.categories,r.highlight=function(e){w.highlight(r.id,e)}),n.push(r)}}),n}return e.prototype={add:function(e,n,a,o){var s=this;n=i(n);var c;if(n){var l=s.get(n);l&&(l.children||(l.children=[]),c=l.children)}else c=s.data;return a?(l.type=a,e.categories&&e.categories.forEach(function(e){var a=s.get(t(n));a&&(a.categories||(a.categories=[]),a.categories.indexOf(e)===-1&&a.categories.push(e))}),I.add(e,a,o).then(function(t){e.categories&&(t.categories=e.categories),c.push(t)})):new r(function(t){c.push(e),t(e)})},root:function(){return this.data},get:function(e,t){if(e=i(e),t||(t=this.data),e){if(e.indexOf(":")!==-1){var n=e.split(":"),t=a.find(t,{id:n[0]}).children;return n=n.splice(1),this.get(n.join(":"),t)}return a.find(t,function(t){if(t&&t.id===e||t.hasOwnProperty("data")&&t.data.id==e)return t})}},query:function(e,t){e=i(e),t||(t=this.data);var n=this.get(e,t);return n.children},setState:function(e,t){e=i(e);var n=this.get(e);n&&(n.on=t,this.setVisible(e,t))},getState:function(e){e=i(e);var t=this.get(e);if(t)return t.on},setVisible:function(e,t){e=i(e);var n=this,a=this.get(e);a&&(a.visible=t,a.children&&a.children.forEach(function(i){if(i.id)n.setVisible([e,i.id],t);else{var r=!!t&&a.on;I.setVisible(i,r)}}))},getVisible:function(e){e=i(e);var a=this.get(e),r=!0;if(a&&(r=a.visible,n(e))){var o=t(e),s=this.getVisible(o);if(!s)return!1;if(n(o))return this.getVisible(t(o))}return r},focus:function(e,a){var r=this;e=i(e);var o=r.get(e);if(n(e)){var s=r.get(t(e));r.setState(s.id,!0),s.children.forEach(function(e){e.hasOwnProperty("id")&&r.setState([s.id,e.id],e.id===o.id)})}I.focus(o&&o.hasOwnProperty("children")?o.children[0]:o,a)},highlight:function(e,t){var n=this;e=i(e);var a=n.get(e);a.children&&a.children.forEach(function(e){e.children&&e.children.forEach(function(e){var n=t&&e.categories.indexOf(t)===-1;e.setOpaque(n),n||e.animateWobble()})})},getSelectors:function(){return o(w.root())}},e}(),o.Loader=function(){function e(){}function t(e,t,a,i){return w.add({id:t.toLowerCase(),visible:i,on:i}).then(function(){return n.get(e).success(function(e){var n=[];return e.forEach(function(e){var o,s=w.get([t,e.tag]);o=s?new r(function(e){e()}):w.add({id:e.tag.toLowerCase(),visible:i,on:i,type:a},t),o.then(function(){w.add(e,[t.toLowerCase(),e.tag],a,i)}),n.push(o)}),r.all(n)})})}return e.prototype={load:function(e){var n=[];return e.forEach(function(e){n.push(t.apply(this,e))}),r.all(n)},append:function(e,t){return I.add(e,t,!0)}},e}(),o.Api=function(){function e(){}return e.prototype={ready:function(e){e()},getData:function(){return w.getSelectors()},clustering:function(e){void 0===e||(clusterer.enabled=e,e?(clusterer.setMaxZoom(null),clusterer.setGridSize(50)):(clusterer.setMaxZoom(1),clusterer.setGridSize(1)),clusterer.resetViewport(),clusterer.redraw())},type:function(e){return void 0===e?E.getMapTypeId():E.setMapTypeId(e)}},e}(),e.fruskac=new o.Api;var g=new o.Util;o.isCrossDomain=e.self!==e.top&&t.referrer&&!new RegExp("//"+t.domain).test(t.referrer),o.lang=g.getParameterByName("lang")||e.self!==e.top&&e.top.document.documentElement.lang||f;var y=new o.I18n(o.lang),w=new o.Storage,b={center:new i.maps.LatLng(45.167031,19.69677),zoom:11,mapTypeId:i.maps.MapTypeId.TERRAIN,mapTypeControl:!1,zoomControlOptions:{position:i.maps.ControlPosition.LEFT_BOTTOM},streetViewControlOptions:{position:i.maps.ControlPosition.LEFT_BOTTOM}},k=g.getParameterByName(c);if(k){var C=g.getParameterPartsByName(c);C&&C.length&&(C[0]&&C[1]&&(b.center=new i.maps.LatLng(C[0],C[1])),C[2]&&(b.zoom=parseFloat(C[2])))}var E=new i.maps.Map(t.getElementById("map"),b),L={north:45.166508,south:45.136001,east:19.767672,west:19.681498},M={opacity:.8,clickable:!1},P=new i.maps.GroundOverlay("img/overlay.png",L,M);P.setMap(E);var I=new o.Map(E),O=new o.Chart(t.getElementById("chart_container")),N=v,S=[],T=g.getParameterPartsByName(u);N.forEach(function(e){T&&(e.visible=T.indexOf(e.name)!==-1),S.push(Object.values(e))});var W=g.getParameterByName(l),V=new o.Loader,B=g.getParameterByName(s);V.load(S).then(function(){W&&V.append(W,p).then(function(e){i.maps.event.addListenerOnce(E,"idle",function(){I.focus(e)})}),B&&i.maps.event.addListenerOnce(E,"idle",function(){w.focus(B,!0)}),k&&C&&C.length&&i.maps.event.addListenerOnce(E,"idle",function(){I.placeMarker(new i.maps.LatLng(C[0],C[1]),!0)})})}(window,document,jQuery,_,google,Promise);</script></body></html>